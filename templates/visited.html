{% extends "base.html" %}

{% block content %}
<div class="container-fluid py-4">
    <div class="row mb-4">
        <div class="col-md-6">
            <h2><i class="fas fa-check-circle text-success me-2"></i>Visited Places</h2>
        </div>
        <div class="col-md-6">
            <div class="d-flex justify-content-end gap-2">
                <div class="btn-group">
                    <button class="btn btn-outline-secondary" id="view-grid">
                        <i class="fas fa-th-large"></i>
                    </button>
                    <button class="btn btn-outline-secondary" id="view-map">
                        <i class="fas fa-map"></i>
                    </button>
                </div>
                <select class="form-select w-auto" id="sort-select">
                    <option value="date-desc">Latest First</option>
                    <option value="date-asc">Oldest First</option>
                    <option value="points-desc">Highest Points</option>
                    <option value="points-asc">Lowest Points</option>
                </select>
            </div>
        </div>
    </div>

    <!-- Grid View -->
    <div id="grid-view">
        <div class="row g-4" id="visited-places-grid">
            <!-- Dynamically populated by JavaScript -->
        </div>
    </div>

    <!-- Map View -->
    <div id="map-view" style="display: none;">
        <div id="visited-map" style="height: 600px;"></div>
    </div>
</div>

<template id="place-card-template">
    <div class="col-md-4">
        <div class="card h-100">
            <div class="card-body">
                <h5 class="card-title"></h5>
                <p class="card-text description"></p>
                <div class="d-flex justify-content-between align-items-center">
                    <span class="badge bg-success points"></span>
                    <small class="text-muted date"></small>
                </div>
            </div>
        </div>
    </div>
</template>
{% endblock %}

{% block scripts %}
<script src="https://maps.googleapis.com/maps/api/js?key={{ api_key }}&libraries=places" defer></script>
<script src="/static/js/visited.js"></script>
{% endblock %}
